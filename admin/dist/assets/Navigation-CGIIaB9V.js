import{_ as P,be as y,bf as t,b5 as b,aA as w,au as C,a0 as O,bg as $,c as L,a,b as u,d as E,w as o,H as h,F as j,o as n,a8 as A,a2 as D,a9 as p,j as g,l as c,t as m,G as I,aE as k,aP as R,aQ as x,i as V,O as N,r as S}from"../index.js";const U={data:()=>({user:null}),setup(){const e=w(),r=C(),v=O(),_=$();return{auth:v,i18n:_,languages:e,messages:r}},created(){this.auth.user().then(e=>{this.user=e}).catch(e=>{this.messages.add({message:this.$gettext("Failed to load user"),color:"error"})})},methods:{logout(){this.auth.logout().then(()=>{this.user=null,b.replace("/")}).catch(e=>{this.messages.add(this.$gettext("Logout failed"))})},change(e){y(Object.assign({"../../i18n/ar.json":()=>t(()=>import("./ar-B6M0G6w_.js"),[],import.meta.url),"../../i18n/bg.json":()=>t(()=>import("./bg-DTrgeOmz.js"),[],import.meta.url),"../../i18n/cs.json":()=>t(()=>import("./cs-Db1sOM7K.js"),[],import.meta.url),"../../i18n/da.json":()=>t(()=>import("./da-BcXMB2Li.js"),[],import.meta.url),"../../i18n/de.json":()=>t(()=>import("./de-C9m71r3R.js"),[],import.meta.url),"../../i18n/el.json":()=>t(()=>import("./el-BQIuuJYU.js"),[],import.meta.url),"../../i18n/en.json":()=>t(()=>import("./en-ZdYmxoc1.js"),[],import.meta.url),"../../i18n/es.json":()=>t(()=>import("./es-B1sTtH85.js"),[],import.meta.url),"../../i18n/et.json":()=>t(()=>import("./et-CqiLw515.js"),[],import.meta.url),"../../i18n/fi.json":()=>t(()=>import("./fi-BN96mLnk.js"),[],import.meta.url),"../../i18n/fr.json":()=>t(()=>import("./fr-zdpzpUYj.js"),[],import.meta.url),"../../i18n/he.json":()=>t(()=>import("./he-CQLoVdZO.js"),[],import.meta.url),"../../i18n/hu.json":()=>t(()=>import("./hu-CW1BaBX0.js"),[],import.meta.url),"../../i18n/id.json":()=>t(()=>import("./id-D-fjeBdD.js"),[],import.meta.url),"../../i18n/it.json":()=>t(()=>import("./it-Cud6AZI1.js"),[],import.meta.url),"../../i18n/ja.json":()=>t(()=>import("./ja-zYiIjHb3.js"),[],import.meta.url),"../../i18n/ko.json":()=>t(()=>import("./ko-Dc4AaM1z.js"),[],import.meta.url),"../../i18n/lt.json":()=>t(()=>import("./lt-DPF2aNUG.js"),[],import.meta.url),"../../i18n/lv.json":()=>t(()=>import("./lv-CdiG7Qdu.js"),[],import.meta.url),"../../i18n/nl.json":()=>t(()=>import("./nl-BKtU_yn1.js"),[],import.meta.url),"../../i18n/no.json":()=>t(()=>import("./no-Cm1Lst3C.js"),[],import.meta.url),"../../i18n/pl.json":()=>t(()=>import("./pl-Cxhj6qUl.js"),[],import.meta.url),"../../i18n/pt.json":()=>t(()=>import("./pt-H9eFcnBe.js"),[],import.meta.url),"../../i18n/ro.json":()=>t(()=>import("./ro-CWRcQfk1.js"),[],import.meta.url),"../../i18n/ru.json":()=>t(()=>import("./ru-jh1DPJGj.js"),[],import.meta.url),"../../i18n/sk.json":()=>t(()=>import("./sk-5yMBFNP2.js"),[],import.meta.url),"../../i18n/sl.json":()=>t(()=>import("./sl-DsC231n6.js"),[],import.meta.url),"../../i18n/sv.json":()=>t(()=>import("./sv-CqXYMlm_.js"),[],import.meta.url),"../../i18n/th.json":()=>t(()=>import("./th-BnMi1Re1.js"),[],import.meta.url),"../../i18n/tr.json":()=>t(()=>import("./tr-DnJlySCR.js"),[],import.meta.url),"../../i18n/uk.json":()=>t(()=>import("./uk-c86TDOB_.js"),[],import.meta.url),"../../i18n/vi.json":()=>t(()=>import("./vi-Bl490J9W.js"),[],import.meta.url),"../../i18n/zh.json":()=>t(()=>import("./zh-CEQp5lbX.js"),[],import.meta.url)}),`../../i18n/${e}.json`,4).then(r=>{this.i18n.translations=r.default||r,this.i18n.current=e,this.$vuetify.locale.current=e})}}};function B(e,r,v,_,f,s){return n(),L(j,null,[a(h,null,{activator:o(({props:i})=>[a(g,I({icon:"mdi-web"},i,{class:"icon"}),null,16)]),default:o(()=>[a(A,null,{default:o(()=>[(n(!0),L(j,null,D(_.i18n.available,(i,l)=>(n(),u(p,{key:l},{default:o(()=>[a(g,{variant:"text",onClick:d=>s.change(l)},{default:o(()=>[c(m(_.languages.translate(l))+" ("+m(l)+")",1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),e.user?(n(),u(h,{key:0},{activator:o(({props:i})=>[a(g,I({icon:"mdi-account-circle-outline"},i,{class:"icon"}),null,16)]),default:o(()=>[a(A,null,{default:o(()=>{var i;return[(i=e.user)!=null&&i.name?(n(),u(p,{key:0},{default:o(()=>[c(m(e.user.name),1)]),_:1})):E("",!0),a(p,null,{default:o(()=>[a(g,{class:"menu",variant:"text",onClick:r[0]||(r[0]=l=>s.logout())},{default:o(()=>[c(m(e.$gettext("Logout")),1)]),_:1})]),_:1})]}),_:1})]),_:1})):E("",!0)],64)}const Q=P(U,[["render",B]]),F={props:{content:{type:Array,required:!0},filter:{type:Object,required:!0}},emits:["update:filter"],setup(){return{drawer:k()}},data(){return{open:[0,1,2]}},methods:{active(e){for(const r in e.value)if(this.filter[r]!==e.value[r])return!1;return!0},has(e){return!!this.filter[e]},toggle(e){for(const r in e.value)this.filter[r]=e.value[r];this.$emit("update:filter",this.filter)}}};function G(e,r,v,_,f,s){return n(),u(R,{modelValue:_.drawer.aside,"onUpdate:modelValue":r[1]||(r[1]=i=>_.drawer.aside=i),"mobile-breakpoint":"md",location:"end"},{default:o(()=>[a(A,{opened:f.open,"onUpdate:opened":r[0]||(r[0]=i=>f.open=i)},{default:o(()=>[(n(!0),L(j,null,D(v.content,(i,l)=>(n(),u(x,{key:l,value:l},{activator:o(({props:d})=>[a(p,I({ref_for:!0},d,{class:{active:s.has(i.key)}}),{default:o(()=>[c(m(i.title||i.key),1)]),_:2},1040,["class"])]),default:o(()=>[(n(!0),L(j,null,D(i.items||[],(d,T)=>(n(),u(p,{onClick:M=>s.toggle(d),active:s.active(d),key:T,rounded:"lg"},{default:o(()=>[d.icon?(n(),u(V,{key:0,icon:d.icon,class:"icon"},null,8,["icon"])):E("",!0),c(" "+m(d.title),1)]),_:2},1032,["onClick","active"]))),128))]),_:2},1032,["value"]))),128))]),_:1},8,["opened"])]),_:1},8,["modelValue"])}const J=P(F,[["render",G],["__scopeId","data-v-c54b2860"]]),q={setup(){const{mobile:e}=N(),r=k();return{auth:O(),drawer:r,mobile:e}},methods:{toggle(){this.mobile&&(this.drawer.nav=!this.drawer.nav)}}};function H(e,r,v,_,f,s){const i=S("router-link");return n(),u(R,{modelValue:_.drawer.nav,"onUpdate:modelValue":r[3]||(r[3]=l=>_.drawer.nav=l),location:"start","mobile-breakpoint":"lg"},{default:o(()=>[a(A,null,{default:o(()=>[_.auth.can("page:view")?(n(),u(p,{key:0,rounded:"lg"},{default:o(()=>[a(V,{icon:"mdi-file-tree",class:"icon"}),a(i,{to:"/pages",class:"router-link",onClick:r[0]||(r[0]=l=>s.toggle())},{default:o(()=>[c(m(e.$gettext("Pages")),1)]),_:1})]),_:1})):E("",!0),_.auth.can("element:view")?(n(),u(p,{key:1,rounded:"lg"},{default:o(()=>[a(V,{icon:"mdi-share-variant",class:"icon"}),a(i,{to:"/elements",class:"router-link",onClick:r[1]||(r[1]=l=>s.toggle())},{default:o(()=>[c(m(e.$gettext("Shared elements")),1)]),_:1})]),_:1})):E("",!0),_.auth.can("file:view")?(n(),u(p,{key:2,rounded:"lg"},{default:o(()=>[a(V,{icon:"mdi-folder-multiple-image",class:"icon"}),a(i,{to:"/files",class:"router-link",onClick:r[2]||(r[2]=l=>s.toggle())},{default:o(()=>[c(m(e.$gettext("Files")),1)]),_:1})]),_:1})):E("",!0)]),_:1})]),_:1},8,["modelValue"])}const K=P(q,[["render",H],["__scopeId","data-v-ad80d952"]]);export{J as A,K as N,Q as U};
