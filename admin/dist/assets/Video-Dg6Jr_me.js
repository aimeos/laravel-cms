import f from"./File-y4p_DvI_.js";import{_ as $,c as r,a as t,b as s,w as d,V as b,r as v,T as V,F as C,o as i,d as a,e as g,f as u,g as F,h as w,i as D,j as p,k as U,l as m,t as n}from"../index.js";import"./FileListItems-BgArmzs5.js";import"./HistoryDialog-BhGSg-LU.js";import"./FileDialog-D2KRu_32.js";const B={extends:f,setup(){return{...f.setup()}}},N={class:"files"},I=["src"],T={key:1,class:"file"};function A(e,l,E,L,M,R){const k=v("FileDialog"),y=v("FileUrlDialog");return i(),r(C,null,[t(b,null,{default:d(()=>[t(g,{cols:"12",md:"6"},{default:d(()=>[u("div",N,[e.file.path?(i(),r("div",{key:0,class:"file",onClick:l[1]||(l[1]=o=>e.open(e.file))},[e.file.uploading?(i(),s(F,{key:0,color:"primary",height:"5",indeterminate:"",rounded:""})):a("",!0),e.file.path?(i(),r("video",{key:1,ref:"video",controls:"",preload:"metadata",crossorigin:"anonymous",draggable:!1,src:e.url(e.file.path)},null,8,I)):a("",!0),!e.readonly&&e.file.path?(i(),r("button",{key:2,onClick:l[0]||(l[0]=w(o=>e.remove(),["stop"])),class:"btn-overlay",title:"Remove video",type:"button"},[t(D,{icon:"mdi-trash-can",role:"img"})])):a("",!0)])):e.readonly?a("",!0):(i(),r("div",T,[e.auth.can("file:view")?(i(),s(p,{key:0,icon:"mdi-button-cursor",variant:"flat",onClick:l[2]||(l[2]=o=>e.vfiles=!0)})):a("",!0),t(p,{onClick:l[3]||(l[3]=o=>e.vurls=!0),icon:"mdi-link-variant-plus",variant:"flat"}),t(p,{icon:"mdi-upload",variant:"flat"},{default:d(()=>[t(U,{modelValue:e.selected,"onUpdate:modelValue":[l[4]||(l[4]=o=>e.selected=o),l[5]||(l[5]=o=>e.add(o))],accept:e.config.accept||"video/*","hide-input":!0,"prepend-icon":"mdi-upload"},null,8,["modelValue","accept"])]),_:1})]))])]),_:1}),e.file.path?(i(),s(g,{key:0,cols:"12",md:"6"},{default:d(()=>[m(n(e.$gettext("Name"))+": "+n(e.file.name),1),l[10]||(l[10]=u("br",null,null,-1)),m(" "+n(e.$gettext("Mime"))+": "+n(e.file.mime),1),l[11]||(l[11]=u("br",null,null,-1)),m(" "+n(e.$gettext("Editor"))+": "+n(e.file.editor),1),l[12]||(l[12]=u("br",null,null,-1)),m(" "+n(e.$gettext("Updated"))+": "+n(new Date(e.file.updated_at).toLocaleString()),1)]),_:1,__:[10,11,12]})):a("",!0)]),_:1}),(i(),s(V,{to:"body"},[t(k,{modelValue:e.vfiles,"onUpdate:modelValue":l[6]||(l[6]=o=>e.vfiles=o),onAdd:l[7]||(l[7]=o=>{e.handle(o),e.vfiles=!1}),filter:{mime:"video/"}},null,8,["modelValue"])])),(i(),s(V,{to:"body"},[t(y,{modelValue:e.vurls,"onUpdate:modelValue":l[8]||(l[8]=o=>e.vurls=o),onAdd:l[9]||(l[9]=o=>{e.select(o),e.vurls=!1}),mime:"video/"},null,8,["modelValue"])]))],64)}const G=$(B,[["render",A],["__scopeId","data-v-0dfd639c"]]);export{G as default};
