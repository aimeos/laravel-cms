import{_ as E,c as g,B as a,an as He,C as h,o as f,h as l,ag as Z,ah as D,a1 as v,ao as re,ap as Ie,aq as Y,f as V,F as B,D as U,a0 as K,ar as q,as as X,a2 as w,at as G,a4 as Qe,ad as J,au as T,av as k,k as H,aw as Se,a9 as _e,u as Le,K as oe,M as L,a6 as C,X as Re,U as ce,ax as Ze,S as Ye,Z as ue,$ as de,ay as qe,g as ee,az as he,aA as we,W as te,aB as Xe,a5 as be,j as me,aC as ne,aD as le,ae as Pe,aE as Me,aF as O,aG as Je,aH as z,aj as Te,af as Oe,ai as ze,aI as Ge,aa as xe,ab as We,ac as je}from"../index.js";import{g as Ke}from"./index-CzuiuYVM.js";const et={props:["state"],emits:["update:state"],data:()=>({width:window.innerWidth})};function tt(t,e,n,o,r,s){const i=h("router-link");return f(),g(He,{width:"220",modelValue:n.state,"onUpdate:modelValue":e[0]||(e[0]=m=>t.$emit("update:state",m)),rail:!(t.width>1200),"expand-on-hover":""},{default:a(()=>[l(Z,null,{default:a(()=>[l(D,{"prepend-icon":"mdi-file-tree",value:"pages"},{default:a(()=>[l(i,{to:"/pages"},{default:a(()=>e[1]||(e[1]=[v("Pages")])),_:1})]),_:1})]),_:1}),l(re),l(Z,null,{default:a(()=>[l(D,{"prepend-icon":"mdi-folder-multiple-image",value:"files"},{default:a(()=>[l(i,{to:"/files"},{default:a(()=>e[2]||(e[2]=[v("Files")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","rail"])}const tn=E(et,[["render",tt],["__scopeId","data-v-ab757f2b"]]),nt="data:image/jpeg;base64,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",lt={setup(){return{aside:Ie()}},props:["state"],emits:["update:state"],data:()=>({active:{},panel:[0,1,2,3,4,5,6,7,8,9],width:window.innerWidth}),methods:{isActive(t,e){return typeof this.active[t]>"u"&&(this.active[t]={}),typeof this.active[t][e]>"u"&&(this.active[t][e]=!0),this.active[t][e]},toggle(t,e){this.aside.toggle(t,e),this.active[t][e]=!this.active[t][e]}}};function at(t,e,n,o,r,s){return f(),g(He,{location:"end",width:"220",modelValue:n.state,"onUpdate:modelValue":e[1]||(e[1]=i=>t.$emit("update:state",i)),rail:!(t.width>1200),"expand-on-hover":""},{default:a(()=>[l(Y,{variant:"accordion",modelValue:t.panel,"onUpdate:modelValue":e[0]||(e[0]=i=>t.panel=i)},{default:a(()=>[(f(!0),V(B,null,U(o.aside.store,(i,m)=>K((f(),g(q,{key:m,elevation:"0"},{default:a(()=>[l(X,null,{default:a(()=>[v(w(m),1)]),_:2},1024),l(G,null,{default:a(()=>[l(Z,{density:"compact"},{default:a(()=>[(f(!0),V(B,null,U(i,(A,u)=>(f(),g(D,{key:u,active:s.isActive(m,u),onClick:d=>s.toggle(m,u)},{default:a(()=>[v(w(u)+" ("+w(A)+") ",1)]),_:2},1032,["active","onClick"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[Qe,o.aside.show[m]]])),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","rail"])}const it=E(lt,[["render",at]]),st={props:["item"],emits:["update:item"],data:()=>({panel:[0],elements:{"cms::test":{type:"cms::test",fields:{"test/key":{type:"cms::string",label:"Test string config"},"test/color":{type:"cms::color",label:"Test color selector"}}},"cms::test2":{type:"cms::test2",fields:{"test2/key":{type:"cms::string",label:"Second string value"}}}}})},ot=["is","config","onUpdate:modelValue"];function ut(t,e,n,o,r,s){return f(),g(J,null,{default:a(()=>[l(Y,{modelValue:t.panel,"onUpdate:modelValue":e[0]||(e[0]=i=>t.panel=i)},{default:a(()=>[(f(!0),V(B,null,U(t.elements,(i,m)=>(f(),g(q,{key:m,elevation:"1"},{default:a(()=>[l(X,null,{default:a(()=>[v(w(m),1)]),_:2},1024),l(G,null,{default:a(()=>[l(J,null,{default:a(()=>[l(T,null,{default:a(()=>[(f(!0),V(B,null,U(i.fields,(A,u)=>(f(),g(k,{cols:"12",md:"6"},{default:a(()=>[K(H("input",{is:t.name(A.type),config:A,"onUpdate:modelValue":d=>n.item.config[u]=d},null,8,ot),[[Se,n.item.config[u]]])]),_:2},1024))),256))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})}const dt=E(st,[["render",ut],["__scopeId","data-v-9a99315b"]]),rt={setup(){const t=_e();return{app:Le(),languages:t}},props:["item"],emits:["update:item"],data:()=>({}),computed:{langs(){const t=[{code:"",name:"None"}];return Object.entries(this.languages.available).forEach(e=>{t.push({code:e[0],name:e[1]})}),t}},watch:{item:{deep:!0,handler(){this.$emit("update:item",this.item)}}}};function mt(t,e,n,o,r,s){return f(),g(J,null,{default:a(()=>[l(T,null,{default:a(()=>[l(k,{cols:"12",md:"6"},{default:a(()=>[l(oe,{modelValue:n.item.status,"onUpdate:modelValue":e[0]||(e[0]=i=>n.item.status=i),label:"Status",items:[{key:0,val:"Disabled"},{key:1,val:"Enabled"},{key:2,val:"Hidden in navigation"}],"item-title":"val","item-value":"key",variant:"underlined",required:""},null,8,["modelValue"])]),_:1}),l(k,{cols:"12",md:"6"},{default:a(()=>[l(oe,{modelValue:n.item.lang,"onUpdate:modelValue":e[1]||(e[1]=i=>n.item.lang=i),label:"Language",items:s.langs,"item-title":"name","item-value":"code",variant:"underlined"},null,8,["modelValue","items"])]),_:1})]),_:1}),l(T,null,{default:a(()=>[l(k,{cols:"12",md:"6"},{default:a(()=>[l(L,{modelValue:n.item.name,"onUpdate:modelValue":e[2]||(e[2]=i=>n.item.name=i),label:"Page name",variant:"underlined",counter:"30",required:""},null,8,["modelValue"]),l(L,{modelValue:n.item.title,"onUpdate:modelValue":e[3]||(e[3]=i=>n.item.title=i),label:"Page title",variant:"underlined",counter:"70"},null,8,["modelValue"])]),_:1}),l(k,{cols:"12",md:"6"},{default:a(()=>[l(L,{modelValue:n.item.slug,"onUpdate:modelValue":e[4]||(e[4]=i=>n.item.slug=i),label:"URL segment",variant:"underlined",counter:"255",required:""},null,8,["modelValue"]),l(L,{modelValue:n.item.domain,"onUpdate:modelValue":e[5]||(e[5]=i=>n.item.domain=i),label:"Domain",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}),l(T,null,{default:a(()=>[l(k,{cols:"12",md:"6"},{default:a(()=>[l(L,{modelValue:n.item.tag,"onUpdate:modelValue":e[6]||(e[6]=i=>n.item.tag=i),label:"Page tag",variant:"underlined"},null,8,["modelValue"])]),_:1}),l(k,{cols:"12",md:"6"},{default:a(()=>[l(oe,{modelValue:n.item.cache,"onUpdate:modelValue":e[7]||(e[7]=i=>n.item.cache=i),label:"Cache time",items:[{key:0,val:"No cache"},{key:1,val:"1 minute"},{key:5,val:"5 minutes"},{key:15,val:"15 minutes"},{key:30,val:"30 minutes"},{key:60,val:"1 hour"},{key:180,val:"3 hours"},{key:360,val:"6 hours"},{key:720,val:"12 hours"},{key:1440,val:"24 hours"}],"item-title":"val","item-value":"key",variant:"underlined"},null,8,["modelValue"])]),_:1}),l(k,{cols:"12"},{default:a(()=>[l(L,{modelValue:n.item.to,"onUpdate:modelValue":e[8]||(e[8]=i=>n.item.to=i),label:"Redirect URL",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1}),l(T,null,{default:a(()=>[l(k,{cols:"12",md:"6"},{default:a(()=>[l(L,{type:"datetime-local",modelValue:n.item.start,"onUpdate:modelValue":e[9]||(e[9]=i=>n.item.start=i),label:"Start date",variant:"underlined"},null,8,["modelValue"])]),_:1}),l(k,{cols:"12",md:"6"},{default:a(()=>[l(L,{type:"datetime-local",modelValue:n.item.end,"onUpdate:modelValue":e[10]||(e[10]=i=>n.item.end=i),label:"End date",variant:"underlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})}const At=E(rt,[["render",mt]]),ft={props:["ce","index"],emits:["add"],data:()=>({panel:[0]})},vt=["innerHTML"];function pt(t,e,n,o,r,s){return f(),g(J,null,{default:a(()=>[l(Y,{modelValue:t.panel,"onUpdate:modelValue":e[0]||(e[0]=i=>t.panel=i)},{default:a(()=>[l(q,{elevation:"1"},{default:a(()=>[l(X,null,{default:a(()=>e[1]||(e[1]=[v(" Available elements ")])),_:1}),l(G,null,{default:a(()=>[(f(!0),V(B,null,U(n.ce,(i,m)=>(f(),g(C,{key:m,variant:"text",stacked:"",onClick:A=>t.$emit("add",{type:m,index:n.index})},{prepend:a(()=>[H("span",{class:"icon",innerHTML:i.icon},null,8,vt)]),default:a(()=>[v(" "+w(m),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const $e=E(ft,[["render",pt],["__scopeId","data-v-64544cac"]]),gt={props:["data","fields"],emits:["update:data"]};function ct(t,e,n,o,r,s){return f(),g(J,null,{default:a(()=>[l(Re,{onSubmit:e[0]||(e[0]=ce(()=>{},["prevent"]))},{default:a(()=>[(f(!0),V(B,null,U(n.fields,(i,m)=>(f(),g(T,{key:m},{default:a(()=>[l(k,{cols:"12",sm:"3",class:"form-label"},{default:a(()=>[l(Ze,null,{default:a(()=>[v(w(i.label||m),1)]),_:2},1024)]),_:2},1024),l(k,{cols:"12",sm:"9"},{default:a(()=>{var A,u,d;return[(f(),g(Ye(((u=(A=i.type)==null?void 0:A.charAt(0))==null?void 0:u.toUpperCase())+((d=i.type)==null?void 0:d.slice(1))),{modelValue:n.data[m],"onUpdate:modelValue":p=>n.data[m]=p,config:i},null,8,["modelValue","onUpdate:modelValue","config"]))]}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})}const Fe=E(gt,[["render",ct]]);function I(){}I.prototype={diff:function(e,n){var o,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=r.callback;typeof r=="function"&&(s=r,r={});var i=this;function m(c){return c=i.postProcess(c,r),s?(setTimeout(function(){s(c)},0),!0):c}e=this.castInput(e,r),n=this.castInput(n,r),e=this.removeEmpty(this.tokenize(e,r)),n=this.removeEmpty(this.tokenize(n,r));var A=n.length,u=e.length,d=1,p=A+u;r.maxEditLength!=null&&(p=Math.min(p,r.maxEditLength));var y=(o=r.timeout)!==null&&o!==void 0?o:1/0,P=Date.now()+y,b=[{oldPos:-1,lastComponent:void 0}],Q=this.extractCommon(b[0],n,e,0,r);if(b[0].oldPos+1>=u&&Q+1>=A)return m(Be(i,b[0].lastComponent,n,e,i.useLongestToken));var F=-1/0,N=1/0;function x(){for(var c=Math.max(F,-d);c<=Math.min(N,d);c+=2){var M=void 0,S=b[c-1],_=b[c+1];S&&(b[c-1]=void 0);var se=!1;if(_){var Ve=_.oldPos-c;se=_&&0<=Ve&&Ve<A}var ye=S&&S.oldPos+1<u;if(!se&&!ye){b[c]=void 0;continue}if(!ye||se&&S.oldPos<_.oldPos?M=i.addToPath(_,!0,!1,0,r):M=i.addToPath(S,!1,!0,1,r),Q=i.extractCommon(M,n,e,c,r),M.oldPos+1>=u&&Q+1>=A)return m(Be(i,M.lastComponent,n,e,i.useLongestToken));b[c]=M,M.oldPos+1>=u&&(N=Math.min(N,c-1)),Q+1>=A&&(F=Math.max(F,c+1))}d++}if(s)(function c(){setTimeout(function(){if(d>p||Date.now()>P)return s();x()||c()},0)})();else for(;d<=p&&Date.now()<=P;){var W=x();if(W)return W}},addToPath:function(e,n,o,r,s){var i=e.lastComponent;return i&&!s.oneChangePerToken&&i.added===n&&i.removed===o?{oldPos:e.oldPos+r,lastComponent:{count:i.count+1,added:n,removed:o,previousComponent:i.previousComponent}}:{oldPos:e.oldPos+r,lastComponent:{count:1,added:n,removed:o,previousComponent:i}}},extractCommon:function(e,n,o,r,s){for(var i=n.length,m=o.length,A=e.oldPos,u=A-r,d=0;u+1<i&&A+1<m&&this.equals(o[A+1],n[u+1],s);)u++,A++,d++,s.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return d&&!s.oneChangePerToken&&(e.lastComponent={count:d,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=A,u},equals:function(e,n,o){return o.comparator?o.comparator(e,n):e===n||o.ignoreCase&&e.toLowerCase()===n.toLowerCase()},removeEmpty:function(e){for(var n=[],o=0;o<e.length;o++)e[o]&&n.push(e[o]);return n},castInput:function(e){return e},tokenize:function(e){return Array.from(e)},join:function(e){return e.join("")},postProcess:function(e){return e}};function Be(t,e,n,o,r){for(var s=[],i;e;)s.push(e),i=e.previousComponent,delete e.previousComponent,e=i;s.reverse();for(var m=0,A=s.length,u=0,d=0;m<A;m++){var p=s[m];if(p.removed)p.value=t.join(o.slice(d,d+p.count)),d+=p.count;else{if(!p.added&&r){var y=n.slice(u,u+p.count);y=y.map(function(P,b){var Q=o[d+b];return Q.length>P.length?Q:P}),p.value=t.join(y)}else p.value=t.join(n.slice(u,u+p.count));u+=p.count,p.added||(d+=p.count)}}return s}function Ee(t,e){var n;for(n=0;n<t.length&&n<e.length;n++)if(t[n]!=e[n])return t.slice(0,n);return t.slice(0,n)}function ke(t,e){var n;if(!t||!e||t[t.length-1]!=e[e.length-1])return"";for(n=0;n<t.length&&n<e.length;n++)if(t[t.length-(n+1)]!=e[e.length-(n+1)])return t.slice(-n);return t.slice(-n)}function Ae(t,e,n){if(t.slice(0,e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't start with prefix ").concat(JSON.stringify(e),"; this is a bug"));return n+t.slice(e.length)}function fe(t,e,n){if(!e)return t+n;if(t.slice(-e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't end with suffix ").concat(JSON.stringify(e),"; this is a bug"));return t.slice(0,-e.length)+n}function R(t,e){return Ae(t,e,"")}function j(t,e){return fe(t,e,"")}function De(t,e){return e.slice(0,Ct(t,e))}function Ct(t,e){var n=0;t.length>e.length&&(n=t.length-e.length);var o=e.length;t.length<e.length&&(o=t.length);var r=Array(o),s=0;r[0]=0;for(var i=1;i<o;i++){for(e[i]==e[s]?r[i]=r[s]:r[i]=s;s>0&&e[i]!=e[s];)s=r[s];e[i]==e[s]&&s++}s=0;for(var m=n;m<t.length;m++){for(;s>0&&t[m]!=e[s];)s=r[s];t[m]==e[s]&&s++}return s}var ae="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Vt=new RegExp("[".concat(ae,"]+|\\s+|[^").concat(ae,"]"),"ug"),ie=new I;ie.equals=function(t,e,n){return n.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t.trim()===e.trim()};ie.tokenize=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(e.intlSegmenter){if(e.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(e.intlSegmenter.segment(t),function(s){return s.segment})}else n=t.match(Vt)||[];var o=[],r=null;return n.forEach(function(s){/\s/.test(s)?r==null?o.push(s):o.push(o.pop()+s):/\s/.test(r)?o[o.length-1]==r?o.push(o.pop()+s):o.push(r+s):o.push(s),r=s}),o};ie.join=function(t){return t.map(function(e,n){return n==0?e:e.replace(/^\s+/,"")}).join("")};ie.postProcess=function(t,e){if(!t||e.oneChangePerToken)return t;var n=null,o=null,r=null;return t.forEach(function(s){s.added?o=s:s.removed?r=s:((o||r)&&Ue(n,r,o,s),n=s,o=null,r=null)}),(o||r)&&Ue(n,r,o,null),t};function Ue(t,e,n,o){if(e&&n){var r=e.value.match(/^\s*/)[0],s=e.value.match(/\s*$/)[0],i=n.value.match(/^\s*/)[0],m=n.value.match(/\s*$/)[0];if(t){var A=Ee(r,i);t.value=fe(t.value,i,A),e.value=R(e.value,A),n.value=R(n.value,A)}if(o){var u=ke(s,m);o.value=Ae(o.value,m,u),e.value=j(e.value,u),n.value=j(n.value,u)}}else if(n)t&&(n.value=n.value.replace(/^\s*/,"")),o&&(o.value=o.value.replace(/^\s*/,""));else if(t&&o){var d=o.value.match(/^\s*/)[0],p=e.value.match(/^\s*/)[0],y=e.value.match(/\s*$/)[0],P=Ee(d,p);e.value=R(e.value,P);var b=ke(R(d,P),y);e.value=j(e.value,b),o.value=Ae(o.value,d,b),t.value=fe(t.value,d,d.slice(0,d.length-b.length))}else if(o){var Q=o.value.match(/^\s*/)[0],F=e.value.match(/\s*$/)[0],N=De(F,Q);e.value=j(e.value,N)}else if(t){var x=t.value.match(/\s*$/)[0],W=e.value.match(/^\s*/)[0],c=De(x,W);e.value=R(e.value,c)}}var yt=new I;yt.tokenize=function(t){var e=new RegExp("(\\r?\\n)|[".concat(ae,"]+|[^\\S\\n\\r]+|[^").concat(ae,"]"),"ug");return t.match(e)||[]};var Ce=new I;Ce.tokenize=function(t,e){e.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));var n=[],o=t.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(var r=0;r<o.length;r++){var s=o[r];r%2&&!e.newlineIsToken?n[n.length-1]+=s:n.push(s)}return n};Ce.equals=function(t,e,n){return n.ignoreWhitespace?((!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),e.endsWith(`
`)&&(e=e.slice(0,-1))),I.prototype.equals.call(this,t,e,n)};var ht=new I;ht.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var wt=new I;wt.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function ve(t){"@babel/helpers - typeof";return ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(t)}var $=new I;$.useLongestToken=!0;$.tokenize=Ce.tokenize;$.castInput=function(t,e){var n=e.undefinedReplacement,o=e.stringifyReplacer,r=o===void 0?function(s,i){return typeof i>"u"?n:i}:o;return typeof t=="string"?t:JSON.stringify(pe(t,null,null,r),r,"  ")};$.equals=function(t,e,n){return I.prototype.equals.call($,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"),n)};function bt(t,e,n){return $.diff(t,e,n)}function pe(t,e,n,o,r){e=e||[],n=n||[],o&&(t=o(r,t));var s;for(s=0;s<e.length;s+=1)if(e[s]===t)return n[s];var i;if(Object.prototype.toString.call(t)==="[object Array]"){for(e.push(t),i=new Array(t.length),n.push(i),s=0;s<t.length;s+=1)i[s]=pe(t[s],e,n,o,r);return e.pop(),n.pop(),i}if(t&&t.toJSON&&(t=t.toJSON()),ve(t)==="object"&&t!==null){e.push(t),i={},n.push(i);var m=[],A;for(A in t)Object.prototype.hasOwnProperty.call(t,A)&&m.push(A);for(m.sort(),s=0;s<m.length;s+=1)A=m[s],i[A]=pe(t[A],e,n,o,A);e.pop(),n.pop()}else i=t;return i}var ge=new I;ge.tokenize=function(t){return t.slice()};ge.join=ge.removeEmpty=function(t){return t};const Bt={props:["name","data","versions"],emit:["hide","use"],data:()=>({list:[]}),mounted(){this.versions.forEach(t=>{const e={...t};e[this.name]=JSON.parse(t[this.name]),this.list.push(e)})},methods:{diff(t,e){return t&&e?bt(t,e):e?[e]:[]}}};function Et(t,e,n,o,r,s){return f(),g(ue,{"prepend-icon":"mdi-history"},{append:a(()=>[l(me,{onClick:e[0]||(e[0]=i=>t.$emit("hide"))},{default:a(()=>e[2]||(e[2]=[v("mdi-close")])),_:1})]),title:a(()=>e[3]||(e[3]=[v(" History ")])),default:a(()=>[l(re),l(de,null,{default:a(()=>[l(qe,{side:"end",align:"start"},{default:a(()=>[n.versions[0]&&n.versions[0][n.name]!=JSON.stringify(n.data)?(f(),g(he,{key:0,size:"small","dot-color":"blue"},{default:a(()=>[l(ue,{class:"elevation-2"},{default:a(()=>[l(we,null,{default:a(()=>e[4]||(e[4]=[v("Current")])),_:1}),l(de,null,{default:a(()=>[(f(!0),V(B,null,U(s.diff(t.list[0]?t.list[0][n.name]:{},n.data),i=>(f(),V("span",{class:te({added:i.added,removed:i.removed})},w(i.value||i),3))),256))]),_:1})]),_:1})]),_:1})):ee("",!0),(f(!0),V(B,null,U(t.list,(i,m)=>(f(),g(he,{key:m,size:"small","dot-color":i.published?"success":"grey-lighten-1"},{default:a(()=>[l(ue,{class:"elevation-2"},{default:a(()=>[l(we,null,{default:a(()=>[v(w(i.created_at),1)]),_:2},1024),l(Xe,null,{default:a(()=>[v(w(i.editor),1)]),_:2},1024),l(de,null,{default:a(()=>[(f(!0),V(B,null,U(s.diff(i[m+1]?i[m+1][n.name]:i[n.name],i[n.name]),A=>(f(),V("span",{class:te({added:A.added,removed:A.removed})},w(A.value||A),3))),256))]),_:2},1024),l(be,null,{default:a(()=>[l(C,{variant:"outlined",onClick:A=>t.$emit("use",i[n.name])},{default:a(()=>e[5]||(e[5]=[v(" Use ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["dot-color"]))),128))]),_:1})]),_:1}),l(re),l(be,null,{default:a(()=>[l(C,{block:"",onClick:e[1]||(e[1]=i=>t.$emit("hide"))},{default:a(()=>e[6]||(e[6]=[v(" Close ")])),_:1})]),_:1})]),_:1})}const Ne=E(Bt,[["render",Et],["__scopeId","data-v-a249e51e"]]),kt={components:{Elements:$e,Fields:Fe,History:Ne},props:["item"],emits:["update:item"],data:()=>({ce:{"cms::meta":{type:"meta",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z" /></svg>',fields:{description:{type:"string"},keywords:{type:"string"}}},"cms::social":{type:"social",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z" /></svg>',fields:{"og:url":{type:"string"},"og:title":{type:"string"}}},"cms::canonical":{type:"canonical",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5,6.41L6.41,5L17,15.59V9H19V19H9V17H15.59L5,6.41Z" /></svg>',fields:{url:{type:"string"}}}},meta:{},velements:!1,vhistory:!1,panel:[0]}),mounted(){var t;this.meta=JSON.parse(((t=this.item.versions[0])==null?void 0:t.meta)||this.item.meta||"{}")},computed:{available(){return Object.keys(this.elements).length},elements(){const t={...this.ce};for(const e in this.meta)delete t[e];return t},history(){return!!this.vhistory}},methods:{add(t){this.meta[t]={type:t},this.velements=!1},remove(t){delete this.meta[t]},use(t){this.meta=t,this.vhistory=null}},watch:{meta:{deep:!0,handler(){const t={...this.item};t.meta=this.meta,this.$emit("update:item",t)}}}},Dt={class:"header"},Ut={class:"panel-heading"},Ht={class:"subtext"},It={key:0,class:"btn-group"};function Qt(t,e,n,o,r,s){const i=h("Fields"),m=h("Elements"),A=h("History");return f(),V(B,null,[H("div",Dt,[l(C,{class:te({hidden:!n.item.versions.length}),variant:"outlined",onClick:e[0]||(e[0]=u=>t.vhistory=!0)},{default:a(()=>e[7]||(e[7]=[v(" History ")])),_:1},8,["class"])]),l(Y,null,{default:a(()=>[(f(!0),V(B,null,U(t.meta||{},(u,d)=>(f(),g(q,{key:d,elevation:"1"},{default:a(()=>[l(X,{"collapse-icon":"mdi-pencil"},{default:a(()=>[l(C,{icon:"mdi-delete",variant:"text",onClick:p=>s.remove(d)},null,8,["onClick"]),H("div",Ut,[v(w(d)+" ",1),H("span",Ht,w(u.title||u.text||""),1)])]),_:2},1024),l(G,null,{default:a(()=>[l(i,{item:u,"onUpdate:item":p=>t.meta[d]=p},null,8,["item","onUpdate:item"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),s.available?(f(),V("div",It,[l(C,{icon:"mdi-view-grid-plus",color:"primary",onClick:e[1]||(e[1]=u=>t.velements=!0)})])):ee("",!0),(f(),g(le,{to:"body"},[l(ne,{modelValue:t.velements,"onUpdate:modelValue":e[3]||(e[3]=u=>t.velements=u),scrollable:"",width:"auto"},{default:a(()=>[l(m,{ce:s.elements,onAdd:e[2]||(e[2]=u=>s.add(u.type))},null,8,["ce"])]),_:1},8,["modelValue"])])),(f(),g(le,{to:"body"},[l(ne,{modelValue:t.vhistory,"onUpdate:modelValue":e[6]||(e[6]=u=>t.vhistory=u),scrollable:"",width:"auto"},{default:a(()=>[l(A,{name:"meta",data:t.meta,versions:n.item.versions||[],onUse:e[4]||(e[4]=u=>s.use(u)),onHide:e[5]||(e[5]=u=>t.vhistory=!1)},null,8,["data","versions"])]),_:1},8,["modelValue"])]))],64)}const Lt=E(kt,[["render",Qt],["__scopeId","data-v-8a7dcee5"]]),Pt={components:{PageDetailsPageConfig:dt,PageDetailsPageProps:At,PageDetailsPageMeta:Lt},props:["item"],emits:["update:item"],data:()=>({tab:"details"})};function Mt(t,e,n,o,r,s){const i=h("PageDetailsPageProps"),m=h("PageDetailsPageMeta"),A=h("PageDetailsPageConfig");return f(),g(J,null,{default:a(()=>[l(Pe,null,{default:a(()=>[l(Me,{class:"subtabs",modelValue:t.tab,"onUpdate:modelValue":e[0]||(e[0]=u=>t.tab=u),"align-tabs":"center",density:"compact"},{default:a(()=>[l(O,{value:"details"},{default:a(()=>e[5]||(e[5]=[v("Details")])),_:1}),l(O,{value:"meta"},{default:a(()=>e[6]||(e[6]=[v("Meta")])),_:1}),l(O,{value:"config"},{default:a(()=>e[7]||(e[7]=[v("Config")])),_:1})]),_:1},8,["modelValue"]),l(Je,{modelValue:t.tab,"onUpdate:modelValue":e[4]||(e[4]=u=>t.tab=u)},{default:a(()=>[l(z,{value:"details"},{default:a(()=>[l(i,{item:n.item,"onUpdate:item":e[1]||(e[1]=u=>t.$emit("update:item",u))},null,8,["item"])]),_:1}),l(z,{value:"meta"},{default:a(()=>[l(m,{item:n.item,"onUpdate:item":e[2]||(e[2]=u=>t.$emit("update:item",u))},null,8,["item"])]),_:1}),l(z,{value:"config"},{default:a(()=>[l(A,{item:n.item,"onUpdate:item":e[3]||(e[3]=u=>t.$emit("update:item",u))},null,8,["item"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const Jt=E(Pt,[["render",Mt],["__scopeId","data-v-85522f67"]]),Tt={components:{Fields:Fe},props:["clip","content"],emits:["copy","cut","insert","paste","remove","update:content"]},Ot={class:"content-type"},zt={class:"content-title"};function $t(t,e,n,o,r,s){const i=h("Fields");return f(),g(q,{elevation:"1",rounded:"lg"},{default:a(()=>[l(X,{"collapse-icon":"mdi-pencil"},{default:a(()=>{var m,A;return[l(Te,{modelValue:n.content._checked,"onUpdate:modelValue":e[0]||(e[0]=u=>n.content._checked=u)},null,8,["modelValue"]),l(Oe,null,{activator:a(({props:u})=>[l(C,ze({icon:"mdi-dots-vertical",variant:"text"},u),null,16)]),default:a(()=>[l(Z,null,{default:a(()=>[l(D,null,{default:a(()=>[l(C,{"prepend-icon":"mdi-content-copy",variant:"text",onClick:e[1]||(e[1]=u=>t.$emit("copy"))},{default:a(()=>e[9]||(e[9]=[v("Copy")])),_:1})]),_:1}),l(D,null,{default:a(()=>[l(C,{"prepend-icon":"mdi-content-cut",variant:"text",onClick:e[2]||(e[2]=u=>t.$emit("cut"))},{default:a(()=>e[10]||(e[10]=[v("Cut")])),_:1})]),_:1}),l(D,null,{default:a(()=>[l(C,{"prepend-icon":"mdi-content-paste",variant:"text",onClick:e[3]||(e[3]=u=>t.$emit("insert",0))},{default:a(()=>e[11]||(e[11]=[v("Insert before")])),_:1})]),_:1}),l(D,null,{default:a(()=>[l(C,{"prepend-icon":"mdi-content-paste",variant:"text",onClick:e[4]||(e[4]=u=>t.$emit("insert",1))},{default:a(()=>e[12]||(e[12]=[v("Insert after")])),_:1})]),_:1}),n.clip?(f(),g(D,{key:0},{default:a(()=>[l(C,{"prepend-icon":"mdi-content-paste",variant:"text",onClick:e[5]||(e[5]=u=>t.$emit("paste",0))},{default:a(()=>e[13]||(e[13]=[v("Paste before")])),_:1})]),_:1})):ee("",!0),n.clip?(f(),g(D,{key:1},{default:a(()=>[l(C,{"prepend-icon":"mdi-content-paste",variant:"text",onClick:e[6]||(e[6]=u=>t.$emit("paste",1))},{default:a(()=>e[14]||(e[14]=[v("Paste after")])),_:1})]),_:1})):ee("",!0),l(D,null,{default:a(()=>[l(C,{"prepend-icon":"mdi-delete",variant:"text",onClick:e[7]||(e[7]=u=>t.$emit("remove"))},{default:a(()=>e[15]||(e[15]=[v("Delete")])),_:1})]),_:1})]),_:1})]),_:1}),H("div",Ot,w(n.content.type),1),H("div",zt,w(((m=n.content.data)==null?void 0:m.title)||((A=n.content.data)==null?void 0:A.text)||""),1)]}),_:1}),l(G,null,{default:a(()=>[l(i,{fields:n.content.fields,data:n.content.data,"onUpdate:data":e[8]||(e[8]=m=>n.content.data=m)},null,8,["fields","data"])]),_:1})]),_:1})}const Ft=E(Tt,[["render",$t],["__scopeId","data-v-361f44ef"]]),Nt={components:{Content:Ft,History:Ne,Elements:$e},setup(){return{aside:Ie()}},props:["item"],emits:["update:item"],data:()=>({contents:[],menu:{},side:{},clip:null,index:null,checked:!1,vhistory:!1,velements:!1,elements:{"cms::heading":{type:"heading",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M13,8H15.31L15.63,5H17.63L17.31,8H19.31L19.63,5H21.63L21.31,8H23V10H21.1L20.9,12H23V14H20.69L20.37,17H18.37L18.69,14H16.69L16.37,17H14.37L14.69,14H13V12H14.9L15.1,10H13V8M17.1,10L16.9,12H18.9L19.1,10H17.1Z" /></svg>',fields:{level:{type:"select",options:[{value:1,label:"H1"},{value:2,label:"H2"},{value:3,label:"H3"},{value:4,label:"H4"},{value:5,label:"H5"},{value:6,label:"H6"}]},text:{type:"string"}}},"cms::paragraph":{type:"paragraph",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" /></svg>',fields:{text:{type:"markdown"}}},"cms::image-text":{type:"image-text",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M7 4.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m-.861 1.542 1.33.886 1.854-1.855a.25.25 0 0 1 .289-.047l1.888.974V7.5a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V7s1.54-1.274 1.639-1.208M5 9a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1z"/><path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"/></svg>',fields:{image:{type:"image"},text:{type:"markdown"}}},"cms::article":{type:"article",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 21H5C3.89 21 3 20.11 3 19V5C3 3.89 3.89 3 5 3H19C20.11 3 21 3.89 21 5V10.33C20.7 10.21 20.37 10.14 20.04 10.14C19.67 10.14 19.32 10.22 19 10.37V5H5V19H10.11L10 19.11V21M7 9H17V7H7V9M7 17H12.11L14 15.12V15H7V17M7 13H16.12L17 12.12V11H7V13M21.7 13.58L20.42 12.3C20.21 12.09 19.86 12.09 19.65 12.3L18.65 13.3L20.7 15.35L21.7 14.35C21.91 14.14 21.91 13.79 21.7 13.58M12 22H14.06L20.11 15.93L18.06 13.88L12 19.94V22Z" /></svg>',fields:{title:{type:"string"},plain:{type:"plaintext"},intro:{type:"text"},text:{type:"markdown"},cover:{type:"image"},gallery:{type:"images"}}},"cms::table":{type:"table",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm15 2h-4v3h4zm0 4h-4v3h4zm0 4h-4v3h3a1 1 0 0 0 1-1zm-5 3v-3H6v3zm-5 0v-3H1v2a1 1 0 0 0 1 1zm-4-4h4V8H1zm0-4h4V4H1zm5-3v3h4V4zm4 4H6v3h4z"/></svg>',fields:{title:{type:"string"},content:{type:"table"},header:{type:"select",options:[{value:"",label:"None"},{value:"row",label:"First row"},{value:"col",label:"First column"},{value:"row+col",label:"First row and column"}]}}}}}),mounted(){this.contents=JSON.parse(this.item.versions[0]?this.item.versions[0].data:this.item.data||"[]")},methods:{add(t,e){if(!this.elements[t]){console.error(`Element not found "${t}"`);return}const n=Object.assign(JSON.parse(JSON.stringify(this.elements[t])),{data:{}});e!==null?this.contents.splice(e,0,n):this.contents.push(n),this.velements=!1},clean(){return this.contents.forEach(t=>{delete t._checked,delete t._hide}),this.contents},copy(t){const e=JSON.parse(JSON.stringify(this.contents[t]));e.id=null,this.clip={type:"copy",index:t,content:e}},cut(t){this.clip={type:"cut",index:t,content:this.contents[t]},this.contents.splice(t,1)},insert(t){this.index=t,this.velements=!0},paste(t){this.contents.splice(t,0,this.clip.content),this.clip=null},purge(){for(let t=this.contents.length-1;t>=0;t--)this.contents[t]._checked&&this.remove(t);this.checked=!1},remove(t){this.contents.splice(t,1)},search(t){this.contents.forEach(e=>{e._hide=t!==""&&!JSON.stringify(e).toLocaleLowerCase().includes(t)})},show(t){return(typeof t._hide>"u"||typeof t._hide<"u"&&t._hide!==!0)&&this.aside.isUsed("type",t.type)},toggle(){this.contents.forEach(t=>{t._checked=!t._checked})},visibility(t){this.aside.show.type=!!t}},watch:{contents:{deep:!0,handler(){const t={};this.contents.forEach(e=>{e.type&&(t[e.type]=(t[e.type]||0)+1)}),this.aside.store.type=t}}}},St={class:"header"},_t={class:"bulk"},Rt={class:"btn-group"};function Zt(t,e,n,o,r,s){const i=h("Content"),m=h("Elements"),A=h("History"),u=Ge("observe-visibility");return f(),V(B,null,[K((f(),g(J,null,{default:a(()=>[l(Pe,{elevation:"0"},{default:a(()=>[H("div",St,[H("div",_t,[l(Te,{modelValue:t.checked,"onUpdate:modelValue":e[0]||(e[0]=d=>t.checked=d),onClick:e[1]||(e[1]=ce(d=>s.toggle(),["stop"]))},null,8,["modelValue"]),l(Oe,{location:"bottom right"},{activator:a(({props:d})=>[l(C,ze({"append-icon":"mdi-menu-down",variant:"outlined"},d),{default:a(()=>e[12]||(e[12]=[v("Actions")])),_:2},1040)]),default:a(()=>[l(Z,null,{default:a(()=>[l(D,null,{default:a(()=>[l(C,{"prepend-icon":"mdi-delete",variant:"text",onClick:e[2]||(e[2]=d=>s.purge())},{default:a(()=>e[13]||(e[13]=[v("Delete")])),_:1})]),_:1})]),_:1})]),_:1})]),l(L,{"prepend-inner-icon":"mdi-magnify",label:"Search",variant:"underlined",class:"search",clearable:"","hide-details":"",onInput:e[3]||(e[3]=d=>s.search(d.target.value)),"onClick:clear":e[4]||(e[4]=d=>s.search(""))}),l(C,{class:te({hidden:!n.item.versions.length}),variant:"outlined",onClick:e[5]||(e[5]=d=>t.vhistory=!0)},{default:a(()=>e[14]||(e[14]=[v(" History ")])),_:1},8,["class"])]),l(Y,null,{default:a(()=>[(f(!0),V(B,null,U(t.contents,(d,p)=>K((f(),g(i,{key:p,clip:t.clip,content:t.contents[p],"onUpdate:content":y=>t.contents[p]=y,onCopy:y=>s.copy(p),onCut:y=>s.cut(p),onInsert:y=>s.insert(p+y),onPaste:y=>s.paste(p+y),onRemove:y=>s.remove(p)},null,8,["clip","content","onUpdate:content","onCopy","onCut","onInsert","onPaste","onRemove"])),[[Qe,s.show(d)]])),128))]),_:1}),H("div",Rt,[l(C,{icon:"mdi-view-grid-plus",color:"primary",onClick:e[6]||(e[6]=d=>t.velements=!0)})])]),_:1})]),_:1})),[[u,s.visibility]]),(f(),g(le,{to:"body"},[l(ne,{modelValue:t.velements,"onUpdate:modelValue":e[8]||(e[8]=d=>t.velements=d),scrollable:"",width:"auto"},{default:a(()=>[l(m,{ce:t.elements,index:t.index,onAdd:e[7]||(e[7]=d=>s.add(d.type,d.index))},null,8,["ce","index"])]),_:1},8,["modelValue"])])),(f(),g(le,{to:"body"},[l(ne,{modelValue:t.vhistory,"onUpdate:modelValue":e[11]||(e[11]=d=>t.vhistory=d),scrollable:"",width:"auto"},{default:a(()=>[l(A,{name:"data",data:s.clean(),versions:n.item.versions||[],onUse:e[9]||(e[9]=d=>t.use(d)),onHide:e[10]||(e[10]=d=>t.vhistory=!1)},null,8,["data","versions"])]),_:1},8,["modelValue"])]))],64)}const Yt=E(Nt,[["render",Zt],["__scopeId","data-v-42ea131b"]]),qt={props:["item"],emits:["update:item"],setup(){return{app:Le()}},computed:{url(){const t=this.app.urlpage.replace(/:domain/,this.item.domain).replace(/:slug/,this.item.slug).replace(/xx-XX/,this.item.lang).replace(/\/+$/g,"");return t+(t.includes("?")?"&":"?")+"cid="+this.item.id}}},Xt=["src"];function Gt(t,e,n,o,r,s){return f(),V("iframe",{ref:"preview",src:s.url},null,8,Xt)}const xt=E(qt,[["render",Gt]]),Wt={components:{Aside:it,PageDetailsPage:Jt,PageDetailsContent:Yt,PageDetailsPreview:xt},props:["item"],emits:["update:item"],data:()=>({tab:"page",nav:null,page:{},bgUrl:nt}),watch:{item(){this.page.id&&this.item.id===this.page.id||this.$apollo.query({query:Ke`query($id: ID!) {
            page(id: $id) {
              id
              parent_id
              domain
              slug
              lang
              name
              title
              to
              tag
              status
              cache
              config
              data
              meta
              start
              end
              editor
              created_at
              updated_at
              deleted_at
              has
              contents {
                id
                data
              }
              versions {
                published
                meta
                data
                editor
                created_at
              }
            }
          }`,variables:{id:this.item.id}}).then(t=>{!t.errors&&t.data?this.page=Object.assign(this.page,t.data.page):console.error(`page(id: ${this.item.id})`,t)}).catch(t=>{console.error(`page(id: ${this.item.id})`,t)})}}};function jt(t,e,n,o,r,s){const i=h("PageDetailsPage"),m=h("PageDetailsContent"),A=h("PageDetailsPreview"),u=h("Aside");return f(),V(B,null,[l(xe,{elevation:2,density:"compact",image:t.bgUrl},{append:a(()=>[l(C,{onClick:e[1]||(e[1]=ce(d=>t.nav=!t.nav,["stop"]))},{default:a(()=>[l(me,{size:"x-large"},{default:a(()=>[v(w(t.nav?"mdi-chevron-right":"mdi-chevron-left"),1)]),_:1})]),_:1})]),default:a(()=>[l(je,null,{default:a(()=>[H("div",{class:"app-title",onClick:e[0]||(e[0]=d=>t.$emit("update:item",t.page))},[l(me,{icon:"mdi-keyboard-backspace"}),e[8]||(e[8]=v(" Back to pages "))])]),_:1})]),_:1},8,["image"]),l(We,null,{default:a(()=>[l(Me,{"fixed-tabs":"",modelValue:t.tab,"onUpdate:modelValue":e[2]||(e[2]=d=>t.tab=d)},{default:a(()=>[l(O,{value:"page"},{default:a(()=>e[9]||(e[9]=[v("Page")])),_:1}),l(O,{value:"content"},{default:a(()=>e[10]||(e[10]=[v("Content")])),_:1}),l(O,{value:"preview"},{default:a(()=>e[11]||(e[11]=[v("Preview")])),_:1})]),_:1},8,["modelValue"]),l(Je,{modelValue:t.tab,"onUpdate:modelValue":e[6]||(e[6]=d=>t.tab=d)},{default:a(()=>[l(z,{value:"page"},{default:a(()=>[l(i,{item:t.page,"onUpdate:item":e[3]||(e[3]=d=>t.page=d)},null,8,["item"])]),_:1}),l(z,{value:"content"},{default:a(()=>[l(m,{item:t.page,"onUpdate:item":e[4]||(e[4]=d=>t.page=d)},null,8,["item"])]),_:1}),l(z,{value:"preview"},{default:a(()=>[l(A,{item:t.page,"onUpdate:item":e[5]||(e[5]=d=>t.page=d)},null,8,["item"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(u,{state:t.nav,"onUpdate:state":e[7]||(e[7]=d=>t.nav=d)},null,8,["state"])],64)}const nn=E(Wt,[["render",jt],["__scopeId","data-v-cc5223bf"]]);export{tn as N,nn as P,nt as b};
