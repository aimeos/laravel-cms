import{_ as P,be as y,bf as t,b5 as b,au as w,a0 as O,bg as $,c as L,a,b as l,d as E,w as o,H as h,F as j,o as n,a8 as D,a2 as I,a9 as d,j as V,l as p,t as c,G as A,aE as k,aP as R,aQ as C,i as g,O as x,r as N}from"../index.js";const S={data:()=>({user:null}),setup(){const e=w(),r=O(),v=$();return{auth:r,i18n:v,messages:e}},created(){this.auth.user().then(e=>{this.user=e}).catch(e=>{this.messages.add({message:this.$gettext("Failed to load user"),color:"error"})})},methods:{logout(){this.auth.logout().then(()=>{this.user=null,b.replace("/")}).catch(e=>{this.messages.add(this.$gettext("Logout failed"))})},change(e){y(Object.assign({"../../i18n/ar.json":()=>t(()=>import("./ar-ConSAIfm.js"),[],import.meta.url),"../../i18n/bg.json":()=>t(()=>import("./bg-HFt7JYHG.js"),[],import.meta.url),"../../i18n/cs.json":()=>t(()=>import("./cs-gHnXxByC.js"),[],import.meta.url),"../../i18n/da.json":()=>t(()=>import("./da-Cf-aqELs.js"),[],import.meta.url),"../../i18n/de.json":()=>t(()=>import("./de-CiPTknoh.js"),[],import.meta.url),"../../i18n/el.json":()=>t(()=>import("./el-DGel36ws.js"),[],import.meta.url),"../../i18n/en.json":()=>t(()=>import("./en-ZdYmxoc1.js"),[],import.meta.url),"../../i18n/es.json":()=>t(()=>import("./es-CtwlMPX4.js"),[],import.meta.url),"../../i18n/et.json":()=>t(()=>import("./et-bmg0xbw8.js"),[],import.meta.url),"../../i18n/fi.json":()=>t(()=>import("./fi-dyx0Y2mn.js"),[],import.meta.url),"../../i18n/fr.json":()=>t(()=>import("./fr-cVA9N8n8.js"),[],import.meta.url),"../../i18n/he.json":()=>t(()=>import("./he-fsFks4Pb.js"),[],import.meta.url),"../../i18n/hu.json":()=>t(()=>import("./hu-B9AHZA9P.js"),[],import.meta.url),"../../i18n/id.json":()=>t(()=>import("./id-Ry_tWPP8.js"),[],import.meta.url),"../../i18n/it.json":()=>t(()=>import("./it-CNdpJtIy.js"),[],import.meta.url),"../../i18n/ja.json":()=>t(()=>import("./ja-oyEBdg5o.js"),[],import.meta.url),"../../i18n/ko.json":()=>t(()=>import("./ko-W_lIk_Dm.js"),[],import.meta.url),"../../i18n/lt.json":()=>t(()=>import("./lt-DtXO0WpG.js"),[],import.meta.url),"../../i18n/lv.json":()=>t(()=>import("./lv-Ca9c2Dja.js"),[],import.meta.url),"../../i18n/nl.json":()=>t(()=>import("./nl-42Q_voNM.js"),[],import.meta.url),"../../i18n/no.json":()=>t(()=>import("./no-BkiAkXrA.js"),[],import.meta.url),"../../i18n/pl.json":()=>t(()=>import("./pl-C1f-NN4c.js"),[],import.meta.url),"../../i18n/pt.json":()=>t(()=>import("./pt-BE_P--dq.js"),[],import.meta.url),"../../i18n/ro.json":()=>t(()=>import("./ro-D9hGhfnp.js"),[],import.meta.url),"../../i18n/ru.json":()=>t(()=>import("./ru-Gz9NvKij.js"),[],import.meta.url),"../../i18n/sk.json":()=>t(()=>import("./sk-5QedbZ5h.js"),[],import.meta.url),"../../i18n/sl.json":()=>t(()=>import("./sl-CS0OR4Cw.js"),[],import.meta.url),"../../i18n/sv.json":()=>t(()=>import("./sv-D-QIfWo4.js"),[],import.meta.url),"../../i18n/th.json":()=>t(()=>import("./th-Bkyd_WrN.js"),[],import.meta.url),"../../i18n/tr.json":()=>t(()=>import("./tr-Dp6mpr2f.js"),[],import.meta.url),"../../i18n/uk.json":()=>t(()=>import("./uk-C_TETtZ5.js"),[],import.meta.url),"../../i18n/vi.json":()=>t(()=>import("./vi-BTRPH-od.js"),[],import.meta.url),"../../i18n/zh.json":()=>t(()=>import("./zh-DBDulzhv.js"),[],import.meta.url)}),`../../i18n/${e}.json`,4).then(r=>{this.i18n.translations=r.default||r,this.i18n.current=e,this.$vuetify.locale.current=e})}}};function U(e,r,v,u,f,s){return n(),L(j,null,[a(h,null,{activator:o(({props:i})=>[a(V,A({icon:"mdi-web"},i,{class:"icon"}),null,16)]),default:o(()=>[a(D,null,{default:o(()=>[(n(!0),L(j,null,I(u.i18n.available,(i,_)=>(n(),l(d,{key:_},{default:o(()=>[a(V,{variant:"text",onClick:m=>s.change(_)},{default:o(()=>[p(c(i),1)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})]),_:1}),e.user?(n(),l(h,{key:0},{activator:o(({props:i})=>[a(V,A({icon:"mdi-account-circle-outline"},i,{class:"icon"}),null,16)]),default:o(()=>[a(D,null,{default:o(()=>{var i;return[(i=e.user)!=null&&i.name?(n(),l(d,{key:0},{default:o(()=>[p(c(e.user.name),1)]),_:1})):E("",!0),a(d,null,{default:o(()=>[a(V,{class:"menu",variant:"text",onClick:r[0]||(r[0]=_=>s.logout())},{default:o(()=>[p(c(e.$gettext("Logout")),1)]),_:1})]),_:1})]}),_:1})]),_:1})):E("",!0)],64)}const z=P(S,[["render",U]]),B={props:{content:{type:Array,required:!0},filter:{type:Object,required:!0}},emits:["update:filter"],setup(){return{drawer:k()}},data(){return{open:[0,1,2]}},methods:{active(e){for(const r in e.value)if(this.filter[r]!==e.value[r])return!1;return!0},has(e){return!!this.filter[e]},toggle(e){for(const r in e.value)this.filter[r]=e.value[r];this.$emit("update:filter",this.filter)}}};function F(e,r,v,u,f,s){return n(),l(R,{modelValue:u.drawer.aside,"onUpdate:modelValue":r[1]||(r[1]=i=>u.drawer.aside=i),"mobile-breakpoint":"md",location:"end"},{default:o(()=>[a(D,{opened:f.open,"onUpdate:opened":r[0]||(r[0]=i=>f.open=i)},{default:o(()=>[(n(!0),L(j,null,I(v.content,(i,_)=>(n(),l(C,{key:_,value:_},{activator:o(({props:m})=>[a(d,A({ref_for:!0},m,{class:{active:s.has(i.key)}}),{default:o(()=>[p(c(i.title||i.key),1)]),_:2},1040,["class"])]),default:o(()=>[(n(!0),L(j,null,I(i.items||[],(m,T)=>(n(),l(d,{onClick:H=>s.toggle(m),active:s.active(m),key:T,rounded:"lg"},{default:o(()=>[m.icon?(n(),l(g,{key:0,icon:m.icon,class:"icon"},null,8,["icon"])):E("",!0),p(" "+c(m.title),1)]),_:2},1032,["onClick","active"]))),128))]),_:2},1032,["value"]))),128))]),_:1},8,["opened"])]),_:1},8,["modelValue"])}const Q=P(B,[["render",F],["__scopeId","data-v-c54b2860"]]),G={setup(){const{mobile:e}=x(),r=k();return{auth:O(),drawer:r,mobile:e}},methods:{toggle(){this.mobile&&(this.drawer.nav=!this.drawer.nav)}}};function q(e,r,v,u,f,s){const i=N("router-link");return n(),l(R,{modelValue:u.drawer.nav,"onUpdate:modelValue":r[3]||(r[3]=_=>u.drawer.nav=_),location:"start","mobile-breakpoint":"lg"},{default:o(()=>[a(D,null,{default:o(()=>[u.auth.can("page:view")?(n(),l(d,{key:0,rounded:"lg"},{default:o(()=>[a(g,{icon:"mdi-file-tree",class:"icon"}),a(i,{to:"/pages",class:"router-link",onClick:r[0]||(r[0]=_=>s.toggle())},{default:o(()=>[p(c(e.$gettext("Pages")),1)]),_:1})]),_:1})):E("",!0),u.auth.can("element:view")?(n(),l(d,{key:1,rounded:"lg"},{default:o(()=>[a(g,{icon:"mdi-share-variant",class:"icon"}),a(i,{to:"/elements",class:"router-link",onClick:r[1]||(r[1]=_=>s.toggle())},{default:o(()=>[p(c(e.$gettext("Shared elements")),1)]),_:1})]),_:1})):E("",!0),u.auth.can("file:view")?(n(),l(d,{key:2,rounded:"lg"},{default:o(()=>[a(g,{icon:"mdi-folder-multiple-image",class:"icon"}),a(i,{to:"/files",class:"router-link",onClick:r[2]||(r[2]=_=>s.toggle())},{default:o(()=>[p(c(e.$gettext("Files")),1)]),_:1})]),_:1})):E("",!0)]),_:1})]),_:1},8,["modelValue"])}const J=P(G,[["render",q],["__scopeId","data-v-ad80d952"]]);export{Q as A,J as N,z as U};
