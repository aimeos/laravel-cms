import f from"./File-BvYeVW4V.js";import{_ as b,c as t,a as d,b as u,w as p,V as y,r as g,T as k,F as V,o as i,d as n,e as m,f as o,g as C,h as $,i as w,j as a,t as r}from"../index.js";import"./FileDetail-DoAmmBBH.js";import"./HistoryDialog-DB5QzTyj.js";import"./FileDialog-BmY6pYYe.js";const F={extends:f,setup(){return{...f.setup()}}},N={class:"files"},B=["src"],D={key:1,class:"file file-input"},I={class:"upload-file"},S=["disabled","accept","id","value"],T=["for"];function A(e,l,E,L,M,R){const v=g("FileDialog");return i(),t(V,null,[d(y,null,{default:p(()=>[d(m,{cols:"12",md:"6"},{default:p(()=>[o("div",N,[e.file.path?(i(),t("div",{key:0,class:"file",onClick:l[1]||(l[1]=s=>e.open(e.file))},[e.file.uploading?(i(),u(C,{key:0,color:"primary",height:"5",indeterminate:"",rounded:""})):n("",!0),e.file.path?(i(),t("video",{key:1,ref:"video",controls:"",preload:"metadata",crossorigin:"anonymous",draggable:!1,src:e.url(e.file.path)},null,8,B)):n("",!0),!e.readonly&&e.file.path?(i(),t("button",{key:2,onClick:l[0]||(l[0]=$(s=>e.remove(),["stop"])),class:"btn-overlay",title:"Remove video",type:"button"},[d(w,{icon:"mdi-trash-can",role:"img"})])):n("",!0)])):(i(),t("div",D,[e.auth.can("file:view")?(i(),t("div",{key:0,class:"select-file",onClick:l[2]||(l[2]=s=>e.vfiles=!0)},l[6]||(l[6]=[o("label",null,[o("span",{class:"btn"},"Select video")],-1)]))):n("",!0),o("div",I,[o("input",{type:"file",onInput:l[3]||(l[3]=s=>e.add(s)),disabled:e.readonly,accept:e.config.accept||"video/*",id:"video-"+e.index,value:e.selected,hidden:""},null,40,S),o("label",{for:"video-"+e.index},l[7]||(l[7]=[o("span",{class:"btn"},"Add video",-1)]),8,T)])]))])]),_:1}),e.file.path?(i(),u(m,{key:0,cols:"12",md:"6"},{default:p(()=>[a(" Name: "+r(e.file.name),1),l[8]||(l[8]=o("br",null,null,-1)),a(" Mime: "+r(e.file.mime),1),l[9]||(l[9]=o("br",null,null,-1)),a(" Editor: "+r(e.file.editor),1),l[10]||(l[10]=o("br",null,null,-1)),a(" Updated: "+r(new Date(e.file.updated_at).toLocaleString()),1)]),_:1,__:[8,9,10]})):n("",!0)]),_:1}),(i(),u(k,{to:"body"},[d(v,{modelValue:e.vfiles,"onUpdate:modelValue":l[4]||(l[4]=s=>e.vfiles=s),onAdd:l[5]||(l[5]=s=>e.handle(s)),filter:{mime:"video/"}},null,8,["modelValue"])]))],64)}const G=b(F,[["render",A],["__scopeId","data-v-0ba32a53"]]);export{G as default};
